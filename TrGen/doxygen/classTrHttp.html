<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>TrHttp Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>TrHttp Class Reference</h1><!-- doxytag: class="TrHttp" --><code>#include &lt;<a class="el" href="TrHttp_8h-source.html">TrHttp.h</a>&gt;</code>
<p>

<p>
<a href="classTrHttp-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Slots</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrHttp.html#a1a518e5b0ba5501345888512a74199c">finished</a> (int id, bool error)</td></tr>

<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrHttp.html#9ec9dba1353faa4c18ed4da5a15b2e6b">TrHttp</a> (const QString &amp;host, const QByteArray &amp;inputStr, <a class="el" href="classTrStatus.html">TrStatus</a> *<a class="el" href="classTrHttp.html#235af2bb91baf44b474fab17efdb4b06">tstat</a>)</td></tr>

<tr><td colspan="2"><br><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="235af2bb91baf44b474fab17efdb4b06"></a><!-- doxytag: member="TrHttp::tstat" ref="235af2bb91baf44b474fab17efdb4b06" args="" -->
<a class="el" href="classTrStatus.html">TrStatus</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrHttp.html#235af2bb91baf44b474fab17efdb4b06">tstat</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">private copy stored by constructor <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="da41b756e7180ebe6638c8559bf63df8"></a><!-- doxytag: member="TrHttp::f" ref="da41b756e7180ebe6638c8559bf63df8" args="" -->
QTemporaryFile&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrHttp.html#da41b756e7180ebe6638c8559bf63df8">f</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">a unique temporary file <br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Subclass of QHttp used to submit traceroutes to the server. <dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="classHttpGet.html">HttpGet</a> </dd></dl>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="9ec9dba1353faa4c18ed4da5a15b2e6b"></a><!-- doxytag: member="TrHttp::TrHttp" ref="9ec9dba1353faa4c18ed4da5a15b2e6b" args="(const QString &amp;host, const QByteArray &amp;inputStr, TrStatus *tstat)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TrHttp::TrHttp           </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&nbsp;</td>
          <td class="paramname"> <em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QByteArray &amp;&nbsp;</td>
          <td class="paramname"> <em>inputStr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classTrStatus.html">TrStatus</a> *&nbsp;</td>
          <td class="paramname"> <em>tstat</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
constructor <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>host</em>&nbsp;</td><td>is the server hostname </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>inputStr</em>&nbsp;</td><td>is the traceroute formatted as HTTP POST data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tstat</em>&nbsp;</td><td>is a pointer to a <a class="el" href="classTrStatus.html">TrStatus</a> traceroute status object</td></tr>
  </table>
</dl>
Issue the traceroute submission request. The HTTP request headers are set for a POST transaction. A temporary file is opened to receive the results from the server. 
</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="a1a518e5b0ba5501345888512a74199c"></a><!-- doxytag: member="TrHttp::finished" ref="a1a518e5b0ba5501345888512a74199c" args="(int id, bool error)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TrHttp::finished           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>error</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
slot receiving request finished message <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>id</em>&nbsp;</td><td>is a request id assigned by QHttp::request() </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>error</em>&nbsp;</td><td>is set if there was an error in processing</td></tr>
  </table>
</dl>
Handle completion of the traceroute submission. If there was no local error, parse the contents of the temporary file which holds the server response. If the traceroute was successfully added to the database, the traceroute_id is copied into the status object tstat, otherwise the server error code is folded into the IXmaps TrGen error code space. 
</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="TrHttp_8h-source.html">TrHttp.h</a><li>TrHttp.cpp</ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Dec 21 21:59:16 2009 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
