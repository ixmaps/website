<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>traceroute.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
<h1>traceroute.h</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef TRACEROUTE_H</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define TRACEROUTE_H</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span>
<a name="l00004"></a>00004 <span class="preprocessor">#include &lt;QString&gt;</span>
<a name="l00005"></a>00005 <span class="preprocessor">#include &lt;QHostAddress&gt;</span>
<a name="l00006"></a>00006 
<a name="l00009"></a><a class="code" href="classTRItem.html">00009</a> <span class="keyword">class </span><a class="code" href="classTRItem.html">TRItem</a> {
<a name="l00010"></a>00010 
<a name="l00011"></a>00011 <span class="keyword">public</span>:
<a name="l00012"></a>00012 
<a name="l00014"></a><a class="code" href="classTRItem.html#0514afbd69abf71a2d996386a1658c7b">00014</a>         <span class="keyword">enum</span> <a class="code" href="classTRItem.html#0514afbd69abf71a2d996386a1658c7b" title="traceroute item status">tri_status</a> {
<a name="l00015"></a><a class="code" href="classTRItem.html#0514afbd69abf71a2d996386a1658c7b09e662743b1bf38e0feeb00eee57e2b6">00015</a>                 <a class="code" href="classTRItem.html#0514afbd69abf71a2d996386a1658c7b09e662743b1bf38e0feeb00eee57e2b6" title="destination host replied, or TTL exceeded ICMP 11/0">replied</a>=<span class="charliteral">'r'</span>,                    
<a name="l00016"></a><a class="code" href="classTRItem.html#0514afbd69abf71a2d996386a1658c7b95e8f24270cb9566de38298f4bc782fb">00016</a>                 <a class="code" href="classTRItem.html#0514afbd69abf71a2d996386a1658c7b95e8f24270cb9566de38298f4bc782fb" title="no reply whatsoever">timed_out</a>=<span class="charliteral">'t'</span>,                  
<a name="l00017"></a><a class="code" href="classTRItem.html#0514afbd69abf71a2d996386a1658c7bf4e0efe50d8ca1905ea17ae399d7db6a">00017</a>                 <a class="code" href="classTRItem.html#0514afbd69abf71a2d996386a1658c7bf4e0efe50d8ca1905ea17ae399d7db6a" title="not used - Host Unreachable ICMP 3/1">host_unreach</a>=<span class="charliteral">'h'</span>,               
<a name="l00018"></a><a class="code" href="classTRItem.html#0514afbd69abf71a2d996386a1658c7b6decf2f67231014ae4d8ff26fb1c56a7">00018</a>                 <a class="code" href="classTRItem.html#0514afbd69abf71a2d996386a1658c7b6decf2f67231014ae4d8ff26fb1c56a7" title="not used - Network Unreachable ICMP 3/0">netw_unreach</a>=<span class="charliteral">'n'</span>,               
<a name="l00019"></a><a class="code" href="classTRItem.html#0514afbd69abf71a2d996386a1658c7b9894598b07d0cbe203230938d3dcbfd7">00019</a>                 <a class="code" href="classTRItem.html#0514afbd69abf71a2d996386a1658c7b9894598b07d0cbe203230938d3dcbfd7" title="not used - Protocol Unreachable ICMP 3/2">proto_unavail</a>=<span class="charliteral">'p'</span>,              
<a name="l00020"></a><a class="code" href="classTRItem.html#0514afbd69abf71a2d996386a1658c7b2632d578bab2c004735ec87920374f1c">00020</a>                 <a class="code" href="classTRItem.html#0514afbd69abf71a2d996386a1658c7b2632d578bab2c004735ec87920374f1c" title="not used - Fragmentation Required ICMP 3/4">frag_needed</a>=<span class="charliteral">'f'</span>                 
<a name="l00021"></a>00021                                                 <span class="comment">// there are possible ICMP codes 3/0 to 3/15 </span>
<a name="l00022"></a>00022         };
<a name="l00023"></a>00023 
<a name="l00024"></a><a class="code" href="classTRItem.html#71c41b17d015ce9e9cb76582b780ff40">00024</a>         <a class="code" href="classTRItem.html#0514afbd69abf71a2d996386a1658c7b" title="traceroute item status">tri_status</a>              <a class="code" href="classTRItem.html#71c41b17d015ce9e9cb76582b780ff40" title="status for this probe">status</a>;         
<a name="l00025"></a><a class="code" href="classTRItem.html#42a994228df002a4ab4f0f51df0128d2">00025</a>         QHostAddress            *<a class="code" href="classTRItem.html#42a994228df002a4ab4f0f51df0128d2" title="IPv4 address for this probe.">ip_addr</a>;       
<a name="l00026"></a><a class="code" href="classTRItem.html#8288ea073bd9d5c3daa68c8f9c782477">00026</a>         <span class="keywordtype">int</span>                     <a class="code" href="classTRItem.html#8288ea073bd9d5c3daa68c8f9c782477" title="Round Trip Time in milliseconds this probe.">rtt_ms</a>;         
<a name="l00027"></a>00027 
<a name="l00032"></a>00032         <a class="code" href="classTRItem.html#6905eecc9647dcd715ab346e7234ffdc">TRItem</a>(<a class="code" href="classTRItem.html#0514afbd69abf71a2d996386a1658c7b" title="traceroute item status">tri_status</a> <a class="code" href="classTRItem.html#71c41b17d015ce9e9cb76582b780ff40" title="status for this probe">status</a>, QHostAddress *<a class="code" href="classTRItem.html#42a994228df002a4ab4f0f51df0128d2" title="IPv4 address for this probe.">ip_addr</a>, <span class="keywordtype">int</span> <a class="code" href="classTRItem.html#8288ea073bd9d5c3daa68c8f9c782477" title="Round Trip Time in milliseconds this probe.">rtt_ms</a>);
<a name="l00033"></a>00033 
<a name="l00035"></a>00035         <a class="code" href="classTRItem.html#74737631754b0202e1383b9252cfff6a" title="destructor">~TRItem</a>();
<a name="l00036"></a>00036 };
<a name="l00037"></a>00037 
<a name="l00038"></a>00038         
<a name="l00041"></a><a class="code" href="classTraceroute.html">00041</a> <span class="keyword">class </span><a class="code" href="classTraceroute.html">Traceroute</a> {
<a name="l00042"></a>00042 
<a name="l00043"></a>00043 <span class="keyword">public</span>:
<a name="l00044"></a>00044 
<a name="l00046"></a><a class="code" href="classTraceroute.html#9b1fb106e701234f6aa6e752413fe300">00046</a>         <span class="keyword">enum</span> <a class="code" href="classTraceroute.html#9b1fb106e701234f6aa6e752413fe300" title="protocol used by probes in this traceroute">tr_proto</a> {
<a name="l00047"></a>00047                 icmp=<span class="charliteral">'i'</span>,
<a name="l00048"></a>00048                 udp=<span class="charliteral">'u'</span>,
<a name="l00049"></a>00049                 tcp=<span class="charliteral">'t'</span>
<a name="l00050"></a>00050         };
<a name="l00051"></a>00051 
<a name="l00053"></a><a class="code" href="classTraceroute.html#dfccd360ace7950ed27e03705742fdc2">00053</a>         <span class="keyword">enum</span> <a class="code" href="classTraceroute.html#dfccd360ace7950ed27e03705742fdc2" title="completion status for this traceroute">tr_status</a> {
<a name="l00054"></a>00054                 complete=<span class="charliteral">'c'</span>,
<a name="l00055"></a>00055                 incomplete=<span class="charliteral">'i'</span>
<a name="l00056"></a>00056         };
<a name="l00057"></a>00057 
<a name="l00059"></a><a class="code" href="classTraceroute.html#4abb97c003bb8f524a8a1f2297762126">00059</a>         <span class="keyword">const</span> <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>       <a class="code" href="classTraceroute.html#4abb97c003bb8f524a8a1f2297762126" title="maximum number of probes per hop.">MAX_ATTEMPTS</a> = 10;
<a name="l00060"></a><a class="code" href="classTraceroute.html#b045e5f196f24f4a3c606e0b834dbe2d">00060</a>         QString                 <a class="code" href="classTraceroute.html#b045e5f196f24f4a3c606e0b834dbe2d" title="user-specified destination">dest</a>;           
<a name="l00061"></a><a class="code" href="classTraceroute.html#4266d652220298885707ac2982b6cb98">00061</a>         QHostAddress            <a class="code" href="classTraceroute.html#4266d652220298885707ac2982b6cb98" title="resolved IP address">dest_ip</a>;        
<a name="l00062"></a><a class="code" href="classTraceroute.html#eafa630c4871ad2ac89fce1aa75fe6e0">00062</a>         QString                 <a class="code" href="classTraceroute.html#eafa630c4871ad2ac89fce1aa75fe6e0" title="user name or handle">submitter</a>;      
<a name="l00063"></a><a class="code" href="classTraceroute.html#b9954b9da10cad44d5a736bacef0ab05">00063</a>         QString                 <a class="code" href="classTraceroute.html#b9954b9da10cad44d5a736bacef0ab05" title="user ZIP/Postal code">zip_code</a>;       
<a name="l00064"></a><a class="code" href="classTraceroute.html#3f9381d554a035d23d119c72e8dc9296">00064</a>         <span class="keywordtype">int</span>                     <a class="code" href="classTraceroute.html#3f9381d554a035d23d119c72e8dc9296" title="number of source bits to mask">privacy</a>;        
<a name="l00065"></a><a class="code" href="classTraceroute.html#4f5442fe67128f2532bf13c9db2c44af">00065</a>         <span class="keywordtype">int</span>                     <a class="code" href="classTraceroute.html#4f5442fe67128f2532bf13c9db2c44af" title="max. wait time for a reply in seconds">timeout</a>;        
<a name="l00066"></a><a class="code" href="classTraceroute.html#7194c3c5c34c2624008c3f5504d47074">00066</a>         <a class="code" href="classTraceroute.html#9b1fb106e701234f6aa6e752413fe300" title="protocol used by probes in this traceroute">tr_proto</a>                <a class="code" href="classTraceroute.html#7194c3c5c34c2624008c3f5504d47074" title="ICMP or UDP or TCP.">protocol</a>;       
<a name="l00067"></a><a class="code" href="classTraceroute.html#163e805026e031cb66d2030780f3fa56">00067</a>         <a class="code" href="classTraceroute.html#dfccd360ace7950ed27e03705742fdc2" title="completion status for this traceroute">tr_status</a>               <a class="code" href="classTraceroute.html#163e805026e031cb66d2030780f3fa56" title="whether a reply was gotten from the destination">status</a>;         
<a name="l00068"></a><a class="code" href="classTraceroute.html#7aa1123f1f57bcaccd62874a5fcaa126">00068</a>         QString                 <a class="code" href="classTraceroute.html#7aa1123f1f57bcaccd62874a5fcaa126" title="client program">client</a>;         
<a name="l00069"></a><a class="code" href="classTraceroute.html#eb41c57b923b49f6dadeab291c2a8987">00069</a>         QString                 <a class="code" href="classTraceroute.html#eb41c57b923b49f6dadeab291c2a8987" title="version of client program">cl_ver</a>;         
<a name="l00070"></a>00070 
<a name="l00075"></a>00075         <a class="code" href="classTraceroute.html#974f65271f48eabb3e4ff6be4bcada46">Traceroute</a>(QString&amp; <a class="code" href="classTraceroute.html#b045e5f196f24f4a3c606e0b834dbe2d" title="user-specified destination">dest</a>, QHostAddress&amp; <a class="code" href="classTraceroute.html#4266d652220298885707ac2982b6cb98" title="resolved IP address">dest_ip</a>, <span class="keyword">const</span> QString&amp; <a class="code" href="classTraceroute.html#eafa630c4871ad2ac89fce1aa75fe6e0" title="user name or handle">submitter</a>);
<a name="l00076"></a>00076 
<a name="l00078"></a><a class="code" href="classTraceroute.html#5f9a5dc58a244651e23060b3f560d31b">00078</a>         <span class="keyword">inline</span> <span class="keywordtype">void</span>             <a class="code" href="classTraceroute.html#5f9a5dc58a244651e23060b3f560d31b" title="setter for maxhops">set_maxhops</a>(<span class="keywordtype">int</span> mh) { <a class="code" href="classTraceroute.html#2481668dffafbfa646e3db08b81a2e0d" title="maximum hops to attempt">maxhops</a> = mh; }
<a name="l00080"></a><a class="code" href="classTraceroute.html#1c55e9ec568ebc74b73e2543554ff8e7">00080</a>         <span class="keyword">inline</span> <span class="keywordtype">int</span>              <a class="code" href="classTraceroute.html#1c55e9ec568ebc74b73e2543554ff8e7" title="getter for maxhops">get_maxhops</a>() { <span class="keywordflow">return</span> <a class="code" href="classTraceroute.html#2481668dffafbfa646e3db08b81a2e0d" title="maximum hops to attempt">maxhops</a>; }
<a name="l00081"></a>00081 
<a name="l00083"></a><a class="code" href="classTraceroute.html#ea9c00d02db1b123903e8b412210a7ca">00083</a>         <span class="keyword">inline</span> <span class="keywordtype">void</span>             <a class="code" href="classTraceroute.html#ea9c00d02db1b123903e8b412210a7ca" title="setter for attempts">set_attempts</a>(<span class="keywordtype">int</span> att) { <a class="code" href="classTraceroute.html#132b16bab47e8fb2aeec79490551a669" title="number of attempts per hop distance">attempts</a> = att; }
<a name="l00085"></a><a class="code" href="classTraceroute.html#1a0f304f680f57f40e825bd8b29b58e5">00085</a>         <span class="keyword">inline</span> <span class="keywordtype">int</span>              <a class="code" href="classTraceroute.html#1a0f304f680f57f40e825bd8b29b58e5" title="getter for attempts">get_attempts</a>() { <span class="keywordflow">return</span> <a class="code" href="classTraceroute.html#132b16bab47e8fb2aeec79490551a669" title="number of attempts per hop distance">attempts</a>; }
<a name="l00086"></a>00086 
<a name="l00088"></a><a class="code" href="classTraceroute.html#01cf3f6c06cc7c167d782ab2ba3f111f">00088</a>         <span class="keyword">inline</span> <span class="keywordtype">void</span>             <a class="code" href="classTraceroute.html#01cf3f6c06cc7c167d782ab2ba3f111f" title="setter for privacy">set_privacy</a>(<span class="keywordtype">int</span> pr) { <a class="code" href="classTraceroute.html#3f9381d554a035d23d119c72e8dc9296" title="number of source bits to mask">privacy</a> = pr; }
<a name="l00090"></a><a class="code" href="classTraceroute.html#23daa32220c43cf55a22d008bf1b4421">00090</a>         <span class="keyword">inline</span> <span class="keywordtype">int</span>              <a class="code" href="classTraceroute.html#23daa32220c43cf55a22d008bf1b4421" title="getter for privacy">get_privacy</a>() { <span class="keywordflow">return</span> <a class="code" href="classTraceroute.html#3f9381d554a035d23d119c72e8dc9296" title="number of source bits to mask">privacy</a>; }
<a name="l00091"></a>00091 
<a name="l00093"></a><a class="code" href="classTraceroute.html#52653b0564a16e7209aca9852e61fcd9">00093</a>         <span class="keyword">inline</span> <span class="keywordtype">void</span>             <a class="code" href="classTraceroute.html#52653b0564a16e7209aca9852e61fcd9" title="setter for timeout">set_timeout</a>(<span class="keywordtype">int</span> to) { <a class="code" href="classTraceroute.html#4f5442fe67128f2532bf13c9db2c44af" title="max. wait time for a reply in seconds">timeout</a> = to; }
<a name="l00095"></a><a class="code" href="classTraceroute.html#e6dae3b177949420403269bb2eb9fb93">00095</a>         <span class="keyword">inline</span> <span class="keywordtype">int</span>              <a class="code" href="classTraceroute.html#e6dae3b177949420403269bb2eb9fb93" title="getter for timeout">get_timeout</a>() { <span class="keywordflow">return</span> <a class="code" href="classTraceroute.html#4f5442fe67128f2532bf13c9db2c44af" title="max. wait time for a reply in seconds">timeout</a>; }
<a name="l00096"></a>00096 
<a name="l00098"></a><a class="code" href="classTraceroute.html#764cb91c49d0455a09510f8a43b6ceea">00098</a>         <span class="keyword">inline</span> <span class="keywordtype">void</span>             <a class="code" href="classTraceroute.html#764cb91c49d0455a09510f8a43b6ceea" title="setter for protocol">set_protocol</a>(<a class="code" href="classTraceroute.html#9b1fb106e701234f6aa6e752413fe300" title="protocol used by probes in this traceroute">tr_proto</a> pr) { <a class="code" href="classTraceroute.html#7194c3c5c34c2624008c3f5504d47074" title="ICMP or UDP or TCP.">protocol</a> = pr; }
<a name="l00100"></a><a class="code" href="classTraceroute.html#db39d2efa34a4ce6260706d009439d05">00100</a>         <span class="keyword">inline</span> <a class="code" href="classTraceroute.html#9b1fb106e701234f6aa6e752413fe300" title="protocol used by probes in this traceroute">tr_proto</a>         <a class="code" href="classTraceroute.html#db39d2efa34a4ce6260706d009439d05" title="getter for protocol">get_protocol</a>() { <span class="keywordflow">return</span> <a class="code" href="classTraceroute.html#7194c3c5c34c2624008c3f5504d47074" title="ICMP or UDP or TCP.">protocol</a>; }
<a name="l00101"></a>00101 
<a name="l00103"></a><a class="code" href="classTraceroute.html#bdd1d059d026b243a41e85f2afc4dbbf">00103</a>         <span class="keyword">inline</span> <span class="keywordtype">void</span>             <a class="code" href="classTraceroute.html#bdd1d059d026b243a41e85f2afc4dbbf" title="setter for status">set_status</a>(<a class="code" href="classTraceroute.html#dfccd360ace7950ed27e03705742fdc2" title="completion status for this traceroute">tr_status</a> st) { <a class="code" href="classTraceroute.html#163e805026e031cb66d2030780f3fa56" title="whether a reply was gotten from the destination">status</a> = st; }
<a name="l00105"></a><a class="code" href="classTraceroute.html#5175f96842f2561ab9e6c946467a208c">00105</a>         <span class="keyword">inline</span> <a class="code" href="classTraceroute.html#dfccd360ace7950ed27e03705742fdc2" title="completion status for this traceroute">tr_status</a>        <a class="code" href="classTraceroute.html#5175f96842f2561ab9e6c946467a208c" title="getter for status">get_status</a>() { <span class="keywordflow">return</span> <a class="code" href="classTraceroute.html#163e805026e031cb66d2030780f3fa56" title="whether a reply was gotten from the destination">status</a>; }
<a name="l00106"></a>00106 
<a name="l00108"></a><a class="code" href="classTraceroute.html#378355f12fec497ff2af13050cea53f3">00108</a>         <span class="keyword">inline</span> <span class="keywordtype">void</span>             <a class="code" href="classTraceroute.html#378355f12fec497ff2af13050cea53f3" title="setter for zip_code">set_zip</a>(QString&amp; z) { <a class="code" href="classTraceroute.html#b9954b9da10cad44d5a736bacef0ab05" title="user ZIP/Postal code">zip_code</a> = z; }
<a name="l00110"></a><a class="code" href="classTraceroute.html#97d83c076bd2d4c2ebfdf31cb8573909">00110</a>         <span class="keyword">inline</span> QString&amp;         <a class="code" href="classTraceroute.html#97d83c076bd2d4c2ebfdf31cb8573909" title="getter for zip_code">get_zip</a>() { <span class="keywordflow">return</span> <a class="code" href="classTraceroute.html#b9954b9da10cad44d5a736bacef0ab05" title="user ZIP/Postal code">zip_code</a>; }
<a name="l00111"></a>00111 
<a name="l00113"></a><a class="code" href="classTraceroute.html#9289b3edce201b193c06b3dd775edeb9">00113</a>         <span class="keyword">inline</span> <span class="keywordtype">void</span>             <a class="code" href="classTraceroute.html#9289b3edce201b193c06b3dd775edeb9" title="set the client program name and version">set_client</a>(QString&amp; cli, QString&amp; cli_ver) { <a class="code" href="classTraceroute.html#7aa1123f1f57bcaccd62874a5fcaa126" title="client program">client</a> = cli; <a class="code" href="classTraceroute.html#eb41c57b923b49f6dadeab291c2a8987" title="version of client program">cl_ver</a> = cli_ver; }
<a name="l00114"></a>00114 
<a name="l00119"></a>00119         <span class="keywordtype">void</span>                    <a class="code" href="classTraceroute.html#00408735f9ec52c676aca621945a4397">add_item</a>(<span class="keywordtype">int</span> hop_num, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> attempt, <a class="code" href="classTRItem.html">TRItem</a> *tr_item);
<a name="l00120"></a>00120 
<a name="l00123"></a>00123         QString&amp;                <a class="code" href="classTraceroute.html#3360e93e25f81e6cc4aaa03a8a3507ba">format</a>();
<a name="l00124"></a>00124 
<a name="l00125"></a>00125 <span class="keyword">private</span>:
<a name="l00126"></a><a class="code" href="classTraceroute.html#2481668dffafbfa646e3db08b81a2e0d">00126</a>         <span class="keywordtype">int</span>                     <a class="code" href="classTraceroute.html#2481668dffafbfa646e3db08b81a2e0d" title="maximum hops to attempt">maxhops</a>;        
<a name="l00127"></a><a class="code" href="classTraceroute.html#132b16bab47e8fb2aeec79490551a669">00127</a>         <span class="keywordtype">int</span>                     <a class="code" href="classTraceroute.html#132b16bab47e8fb2aeec79490551a669" title="number of attempts per hop distance">attempts</a>;       
<a name="l00128"></a>00128 
<a name="l00129"></a><a class="code" href="classTraceroute.html#2a3a2a7a2f73b2dd4fcb2e31aa7ac779">00129</a>         QVector&lt;TRItem *&gt;       <a class="code" href="classTraceroute.html#2a3a2a7a2f73b2dd4fcb2e31aa7ac779" title="each index contains all hops for an attempt">items</a>[<a class="code" href="classTraceroute.html#4abb97c003bb8f524a8a1f2297762126" title="maximum number of probes per hop.">MAX_ATTEMPTS</a>];    
<a name="l00130"></a><a class="code" href="classTraceroute.html#ce66d8774bb8eac65102944ada9926fd">00130</a>         QString                 <a class="code" href="classTraceroute.html#ce66d8774bb8eac65102944ada9926fd" title="representation for HTTP submission">http_repr</a>;      
<a name="l00131"></a>00131 
<a name="l00132"></a>00132 };
<a name="l00133"></a>00133 
<a name="l00134"></a>00134 <span class="preprocessor">#endif</span>
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Dec 21 21:59:16 2009 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
